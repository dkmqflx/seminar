- 우리는 수많은 변경을 마주합니다

- 왜 이렇게 변경이 많을까요? 그 이유는 반대로 생각해보면 명확해집니다

- 제품이 변경되지 않아야 하는 이유가 뭘까요

- 바로 하나뿐입니다 사용자가 잘 사용한다

- 사실 이 말엔 여러가지 조건이 붙어야겠지만 일단 사용자가 우리가 만든 제품을 어려움 없이 잘 사용해야 합니다

- 실제로 그런가요

- 지표는 그렇지 않다고 말합니다

- 그리고 실제로 붙잡고 물어봐도 그렇지 않더라구요

- 그렇기 때문에 많은 변화를 겪습니다 출시되기 전에도 바뀌고 출시 되고도 바뀝니다

- 디자인도 api도 제품의 방향 자체도 언제든 변경될 수 있습니다

- 하지만 좋은 제품을 만들기 위해 변경은 필요합니다

- 고객이 원하는 것을 찾고 원하는 것을 빠르게 전달하기 위해 제품은 변화를 겪으면서 올바른 방향으로 성장합니다

- 저희는 사실 제품을 성장시키고 있었던 겁니다

- 변경이 발생했다는 것은 놓쳤던 고객 니즈를 발견한 게 아닐까요

- 고객의 니즈는 곧 기회 라고 할 수 있는데요

- 어떻게 하면 빠르게 가치로 만들 수 있을까요

- 무엇이 변경되지 알았으면 처음부터 그렇게 했겠죠

- 저희는 사용자를 모르기 때문에 어떤 의지가 있는지 모르고 어떤 경향이 발생할 지 미리 알 수 없습니다

- 변경은 딱 정리되어 있는게 아니기 때문에 예측할 수 없습니다

- 그렇기 때문에 우리는 변경을 예측하여 하지 말고 대응해야 합니다

---

- 변경의 대응하기가 바로 오늘 이야기할 주제입니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/01.png'>

- 변경의 대응하면서 힘들었던 경험이 다들 있으셨을 것 같아요

- 왜 힘들었을까요? 이 부분을 들여다보고 어디가 문제인지 정리해보려고 합니다

- 제품은 보통 이렇게 만들어 질겁니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/02.png'>

- 작은 컴포넌트나 모듈들이 합쳐지면서 기능을 만들고 또 이 기능이 너무 커지면 적당히 분리됩니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/03.png'>

- 이 적당히 라는 포인트가 중요한데요

- 여러분들은 보통 어떤 기준으로 코드를 분리 하시나요

- 되돌아보면 저는 딱히 기준이 없었던 것 같아요

- 어느 날에는 중복이라면서 분리했던 것 같고요

- 또 어느 날에는 단순히 크다는 이유로 분리했던 것 같아요

- 그러다보면 이런 코드가 나옵니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/04.png'>

- 이 코드는 3년 전에 제가 작성한 코드 인데요

- 열심히 만는것 같은데 아쉬운지 점이 많습니다

- 부끄럽지만 조금 더 확대해 볼게요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/05.png'>

- 여기 Item이란 컴포넌트는 어떤 컴포넌트 일까요

- 어떤 데이터를 다루는 지, 데이터를 어떻게 보여주는지 전혀 예상할 수 없습니다.

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/06.png'>

- prop 중 item이란 prop이 있는데, Item 컴포넌트에 item prop이라니 도대체 무슨 말인지 알 수가 없습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/07.png'>

- 제가 작성한 코드이지만 이 컴포넌트가 무슨 역할을 하는지 무슨 생각으로 만들었는지 파악하기가 어려웠습니다

- 이 코드를 변경해야 한다고 하면 어떨까요?

- 우선 어디에서 수정해야 하는지 모르는 게 문제입니다

- 프로젝트 코드 전부를 살펴봐야 할 것 같은데요

- 생각만 해도 고통스럽지 않나요

- 문제가 됐던 부분은 Item이란 컴포넌트였습니다.

- 이 컴포넌트는 어쩌다 이렇게 됐을까요

- 어쩌다 이렇게 만들어졌을 까요

- 추측하건데 만들다보니 페이지가 커졌고 적당히 덜어 내면서 만들어졌을 겁니다

- 적당히 이라는 포인트가 문제가 된 건데요

- 적당히 해오던 이 행위를 일반화 할 수 없을까요

- 어떤 기준을 제시할 수 없을까요

- 문제를 조금 더 뾰족하게 정의해 볼 수 있습니다

---

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/08.png'>

- 변경의 잘 대응하기 위해 저희가 제어할 수 있는 것 중 컴포넌트에 집중해서 이야기 해보려고 합니다

- 지금부터 변경에 유연한 컴포넌트는 어떤 특징을 갖고 있고 어떻게 만들 수 있을지 이야기합니다

- 세 가지로 정리해 봤습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/09.png'>

- 첫번째, Headless 기반으로 추상화가 잘 이루어져야 합니다

- 두번째, 컴포넌트는 한 가지 역할만 하거나 그들의 조합으로 만들어져야 합니다

- 세번째, 도메인을 포함하는 컴포넌트와 그렇지 않은 컴포넌트를 분리해야 합니다

- 그럼 하나씩 살펴볼까요

---

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/22.png'>

- Headless 라는 개념을 알아보기 전에 컴포넌트라는 모듈이 어떤 역할을 하는지 정리해 보겠습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/10.png'>

- 컴포넌트는 크게 3가지 역할을 하는데요

- 우선 데이터를 관리합니다

- 외부에서 주입받은 데이터를 관리하고요, 상태와 같은 내부 데이터도 관리합니다

- 그리고 그 데이터가 사용자에게 어떻게 보여질지를 정의합니다

- 우리는 그것을 유저 인터페이스, 줄여서 UI라고 부릅니다

- 그리고 이 UI를 기반으로 사용자와 어떻게 상호 작용할지를 정의합니다

- 이 세가지 역할들은 이렇게 표현됩니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/11.png'>

- state란 상태를 데이터로 관리하고 있구요

- 이 데이터를 on, off라는 텍스트로 노출하고 있습니다

- onClick 핸들러를 통해 사용자와의 상호작용도 정의해줬습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/12.png'>

- Element는 기본적으로 어떻게 보여질지를 정의합니다

- Button 컴포넌트는 button Element를 기반으로 스타일만 추가된 컴포넌트입니다

- 다른 html element도 동일하게 확장하여 어떻게 보여질지 정의할 수 있습니다

- 어떻게 보여질지 정의하는 부분은 디자인에 의존합니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/13.png'>

- 디자인에 의존하는 UI를 컴포넌트가 관리하는 '데이터'와 분리해 보면 어떨까요

- 달력 컴포넌트를 만든다고 가정해볼게요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/14.png'>

- 달력을 구성하고 있는 데이터 자체는 변하지 않지만 이 달력의 ui는 언제든 바뀔 수 있습니다

- 이 데이터와 ui를 분리해볼게요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/15.png'>

- 먼저 달력을 2x2 배열의 데이터로 추상화할 수 있습니다

- 이 배열의 요소는 Date 객체로 다루면 될 것 같아요

- 특정 달의 데이터를 보여줘야 하기 때문에 현재의 날짜에 대한 값을 함께 추상화 해주면 좋을 것 같습니다

- 달력에 대한 데이터를 추상화하여 `useCalender` 라는 hooks로 표현해줬습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/16.png'>

- 이 Calender라는 컴포넌트 에서는 hooks에서 반환된 값을 어떻게 보여질지만 정의하면 됩니다

- 예제 코드에서는 Table 컴포넌트로 2x2 배열을 달력처럼 보이게 정의했습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/17.png'>

- 또 다른 달력 컴퍼넌트를 만들어야 할 때 디자인이 다르더라도 이 `useCalender` hooks를 가져다 사용할 수 있습니다

- 달력을 구성하는 데 필요한 데이터를 계산해야 하는데 이 역할을 `useCalender` hooks에 위임한 것입니다

- 방금 살펴본 것처럼 ui를 관심사에서 제외할 수 있습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/18.png'>

- 오로지 데이터에만 집중해서 모듈화할 수 있는데요

- 이러한 패턴을 headless 라고 합니다

- 한 가지 문제만 집중하기 때문에 더 많은 곳에서 사용할 수 있고 다른 변경으로부터 격리시킬 수 있습니다

- 데이터 부분을 추정화 해봤는데요, 이번엔 상호 작용하는 부분을 볼까요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/19.png'>

- 이번에도 ui와 분리하면 좋을 것 같습니다

- Button 컴포넌트의 Long Press 라는 동작을 정의하려고 해요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/20.png'>

- 보시는 것처럼 컴포넌트 내부의 여러가지 로직이 들어가는데요

- 이러면 컴포넌트 내부가 복잡해집니다

- 우리는 데이터 부분을 추상화했던 것처럼 이 상호작용 부분을 따로 추상화할 수 있습니다

- `useLongPress`라는 hooks를 만들었어요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/21.png'>

- 컴포넌트에서는 hooks부터 반환되는 값을 ui에 적용하기만하고 이젠 어떻게 보여 질지에만 집중할 수 있게 됐습니다

- 이렇게 추상화 해주면 Button 컴포넌트 뿐만 아니라 다른 컴퍼넌트 에서도 Long Press 동작을 정의할 때 가져다가 사용할 수 있습니다

- 앞에서 컴포넌트 이야기는 안하고 hooks로 모듈화하는 이야기만 했는데요

- 변경에 유연해 지려면 각 모듈이 한 가지 일만 하는게 중요하기 때문입니다

---

- 이번엔 한 가지 역할만 하는 컴포넌트들의 조합으로 구성되어야 한다는 두번째 부분을 살펴 보려고 합니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/23.png'>

- Button처럼 간단한 컴포넌트는 한 가지 역할만 잘 수행했지만 복잡한 컴포넌트는 어떨까요

- 아래 UI를 볼까요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/24.png'>

- 흔하게 볼수있는 Select ui 인데요

- 이 ui 를 만들다보면 자연스럽게 작은 컴포넌트들을 사용하여 구성합니다

- 코드를 볼까요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/25.png'>

- `ReactFrameworkSelect` 라는 컴포넌트 입니다

- 지금 구조는 변경이 발생했을 때 제대로 대응하지 못합니다

- 그렇기 때문에 여러 곳에서 재 용하기도 어려운데요

- 이 컴포넌트를 다른 곳에서 사용한다면 어떨까요

- 우선 label만 달라져도 재사용이 어렵습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/26.png'>

- props에서 label을 받도록 수정 해줘야겠죠

- InputButton 대신에 다른 컴포넌트를 사용하고 싶을땐 어떻게 할 수 있을까요

- 다른 아쉬운 부분이 많지만 이 한 줄만 봐도 변경에 유연하지 못하다는 것을 알 수 있습니다

- 한번 개선해 볼까요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/27.png'>

- 우선 Menu의 노출 여부를 제어하는 내부 상태 isOpen을 분리할 수 있습니다

- 그리고 이 상태를 `Dropdown`이라는 컴포넌트로 관리할 수 있습니다

- 이 상태를 바꾸기 위한 상호 작용도 따로 관리할 수 있습니다

- 이 부분을 `Dropdown.Trigger`로 구성 해볼게요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/28.png'>

- 또 옵션 영역도 불리해질 수 있습니다

- 열고 닫힘 상태에 따라 노출 여부가 결정되기 때문에 `Dropdown.Menu`로 구성 해볼게요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/29.png'>

- 마지막으로 Menu를 구성하는 각각의 아이템을 별도로 분리하여 상호작용을 담당하도록 구성해 보겠습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/30.png'>

- 다루고 있는 데이터를 기준으로, 담당하고 있는 역할을 기준으로 분류해봤습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/31.png'>

- 이제 코드로 작성해 볼까요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/32.png'>

- Dropdown은 내부적으로 Menu가 보일지말지 결정합니다

- Trigger와 연결되구요

- Item에서 발생한 onClick 이벤트는 Dropdown의 onChange 이벤트로 이어집니다

- Select ui를 재구성한 건데요

- 이 컴포넌트를 사용해서 방금전에 살펴본 `ReactFrameworkSelect`를 만들 수 있습니다

- 재구성한 코드는 다음과 같습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/33.png'>

- Select 컴포넌트와 trigger로 전달한 InputButton 컴포넌트는 서로의 존재에 대해 알지 못합니다

- 서로의 변경이 서로에게 영향을 끼치지 않게 된 건데요

- 이것은 각각의 컴포넌트가 변경에 유연하도록 만듭니다

- trigger 부분이 변경되더라도 Select 컴포넌트 그 자체는 아무런 변경이 없기 때문입니다

- 이렇게 합성 가능하도록 컴포넌트를 설계하면 재사용하기 좋고 확장하는 데도 좋습니다

- 이번엔 조금 더 복잡한 컴포넌트를 해볼까요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/34.png'>

- 버튼을 클릭하면 어떤 모델이 열립니다

- 그리고 이 모달에는 체크박스로 여러가지를 선택할 수 있습니다

- 체크하고 난 다음에 적용하기 버튼을 누르면 선택한 값들이 버튼에 노출됩니다

- ui 만 봐서는 꽤 복잡한 컴포넌트라는 생각이 듭니다

- 그런데 이 컴포넌트가 관리하고 있는 데이터를 중심으로 바라본다면

- 그렇게 복잡한 컴포넌트는 아닐 수 있습니다

- 사실 이 컴포넌트는 옵션을 제공하고 선택한 값을 보여주는 컴포넌트로 볼 수 있지 않을까요

- 방금 전에 살펴본 Select ui 와 비슷합니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/35.png'>

- 옵션과 선택한 값이 보여지는 부분이 비슷한데요

- 여러 개를 선택할 수 있다는 부분만 빼면 두 컴포넌트는 동일합니다

- 즉 표현되는 ui 가 다를 뿐 인터페이스는 비슷하게 구성할 수 있는 것입니다

- Select ui 에서 힌트를 얻어 이 ui의 인터페이스를 구성해 볼까요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/36.png'>

- 이름을 FrameworkSelect 라고 해봤습니다

- 아까 사용한 Dropdown 컴포넌트를 사용해보려고 합니다

- 우선 Trigger 영역은 as라는 props로 합성해줬습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/37.png'>

- Button 컴포넌트를 통해 Menu를 보일지 말지 상호작용할 수 있습니다

- 그리고 모달 ui 로 노출되는 부분을 따로 분리했어요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/38.png'>

- Select 컴포트에서 Menu에 해당하는 부분인데요

- Trigger 바로 밑 부분에 노출되는 ui가 아니기 때문에 `Dropdown.Model` 이라는 별도 컴포넌트를 정해졌습니다

- 그리고 적용하기 버튼을 통해 onChange가 발생할 텐데요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/39.png'>

- 이를 구현하기 위해 모달을 하나의 form으로 바라봤습니다

- form 에서는 submit 이벤트를 발생시킬 수 있는데요

- 이를 활용하기 위해 두 가지 버튼을 모달에 전달할 수 있도록 구성했습니다

- 이렇게 완성된 코드를 살펴 보니 전반적인 인터페이스가 아까 만들어본 Select와 유사하지 않나요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/40.png'>

- 데이터의 흐름이 비슷하기 때문에 인터페이스도 비슷하게 구성해 볼 수 있었습니다

- 만약 Trigger 부분을 다른 컴포넌트로 교체해야 한다면 무엇을 해야 할까요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/41.png'>

- Trigger 부분만 수정하면 바로 대응할 수 있습니다

- 한 가지 역할만 하는 컴포넌트들의 조합으로 구성되어 있기 때문에 빠르게 대응할 수 있습니다

- Headless 기반으로 추상화를 하고 조합으로 컴포넌트를 표현하는 것도 살펴봤습니다

---

- 이번엔 레이어링 과 관련된 이야기를 해보려고 해요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/42.png'>

- 모든 컴포넌트에서 데이터에 접근할 수 있지만 컴포넌트를 주입받은 것처럼 데이터도 주입 받으면 어떨까요

- 언제 데이터를 주입받고 언제 스스로 데이터를 가져와야 할 까요

- 방금 살펴본 컴퍼넌트와 비슷한 컴포넌트가 생겼습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/43.png'>

- 만들어둔 컴퍼넌트를 재사용하여 구현하면 참 좋을 것 같습니다

- 앞서 살펴본 `FrameworkSelect` 컴포넌트를 바로 사용할 수 있을까요

- 딱 봐도 어렵죠

- 그 이유가 뭘까요

- 처음부터 프레임워크라는 도메인을 분리했다면 어땠을까요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/44.png'>

- 아까 만들었던 FrameworkSelect 도메인을 한번 분리해 볼까요

- 우선 Props 네이밍에서 도메인 맥락을 제거해줍니다

- 이렇게 도메인 맥락을 제거하다 보면 일반적인 이름으로 바뀌게 됩니다

- 이 부분이 굉장히 중요한데요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/45.png'>

- 컴포넌트 인터페이스는 일반적일수록 이해하기 쉽습니다

- 왜일까요?

- 사람은 무언가를 파악할 때 기존에 알고 있던 내용을 바탕으로 파악합니다

- 즉, 배경지식 으로 무언가를 해석한다는 점인데요

- 우리는 이를 활용할 수 있습니다

- 사람마다 알고 있는 것이 다르기 때문에 최대한 많은 사람들이 알만한 것, 즉 일반적인 단어로 표현해야 의도를 드러내기 쉽습니다

- 컴포넌트의 인터페이스를 구성하는 컴포넌트의 이름과 props 네이밍을 일반적이게 구성한다면 보다 잘 이해할 수 있지 않을까요

- 일반적으로 수정된 props 네이밍을 다시 볼까요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/46.png'>

- 도메인을 걷어 내니 아까 설계했던 Select 컴포넌트의 attribute와 네이밍이 같아졌습니다

- 프론트엔드 개발자라면 Select 컴포넌트가 어떻게 동작하는지 알고 있습니다

- `FrameworkSelect` 컴포넌트가 무엇인지 몰라도 Select 컴포넌트에 대한 지식을 기반으로 이 컴포넌트의 동작을 예측할 수 있습니다

- "select attribute 와 비슷해쟜다"라는 내용을 조금 더 일반화해보면 저희는 한 가지 러닝을 얻게 되는데요

- 바로 컴포넌트 인터페이스가 표준에 가까울수록 많은 사람들이 쉽게 이해할 수 있다는 것입니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/47.png'>

- 방금 만든 `FrameworkSelect` 컴포넌트는 도메인을 모르게 되면서 `MultiSelect`라는 일반적인 이름의 갖게 되었습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/48.png'>

- 사용하는 입장에서 봤을 때 어떻게 동작할 지 바로 이해되시나요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/49.png'>

- `MultiSelect`와 같이 도메인을 모르는 컴포넌트와 도메인을 포함하는 컴포넌트를 구분지어 봤습니다

- `FrameworkSelect` 컴포넌트는 Container가 아니지만 데이터에 접근합니다

- 필요한 데이터를 직접 관리할 때 자율적인 컴포넌트가 되고

- 외부 의존성이 없어 재사용하기 좋기 때문입니다

- 비즈니스 로직은 스스로 처리하되 ui 로직을 위임하는 방식으로 볼 수 있습니다

- 컴포넌트가 변경에 유연하기 위한 세 가지 특징에 대해 알아봤는데요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/50.png'>

- 이제 바로 시도해볼 수 있는 액션 아이템을 소개해 보려고 합니다

---

- 제가 첫번째로 추천하는 액션 아이템은 인터페이스를 먼저 고민하는 것입니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/51.png'>

- 구현해야 하는 어떤 기능이 이미 만들어져 있다고 가정하고 그것을 사용하듯이 작성해 보는 것입니다

- 앞서 살펴본 `FrameworkSelect`를 만든다고 했을 때 `MultiSelect` 컴포넌트가 이미 존재한다고 가정하고 `FrameworkSelect` 코드를 작성해 보는 것입니다

- 새로운 예제로 같이 살펴볼까요

- 이런 화면에 만들어야 한다고 가정해 봅시다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/52.png'>

- 좌측에는 은행 목록이 있고 선택한 은행에 따라 우측 패널에 폼이 노출되는 ui 입니다

- 사실 이 화면엔 이번 발표 내내 살펴본 Select와 데이터 흐름이 동일합니다

- 이미 열려있는 Select ui 라고 생각해 보면 어떨까요

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/53.png'>

- 좌측 배너는 옵션을 제공하는 Menu 라고 볼 수 있습니다

- 우측 패널은 현재 선택된 값을 보여주는데 그 값이 다른 컴포넌트로 표현된 부분이라고 볼 수 있습니다

- ui에 속지 않고 데이터 흐름을 파악하면 쉽게 구조를 잡을 수 있습니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/54.png'>

- 저는 Select 컴포넌트를 기준으로 잡았고 현재 선택된 값을 render props로 전달받도록 구성했습니다

- 이제 이 Select 컴포넌트를 구현하기만 하면 됩니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/55.png'>

- 만들고나서 사용 하려다보니 사용하는 입장에서 봤을 때 의도를 파악하기 어려운 문제가 있었습니다

- 컴포넌트가 해야하는 기능이 무엇인지

- 어떤 데이터를 관리하고 있는지 그리고

- 이것이 인터페이스로 어떻게 표현 되어야하는가 구현 보다 중요합니다

- 이것들이 변경하려고 할 때 파악해하는 것들이기 때문인데요

- 그래서 인터페이스를 먼저 정의하는게 도움이 됐습니다

- 두번째 액션 아이템은 컴포넌트를 나누기 전에 나누는 이유에 대해 다시 한 번 생각해보는 습관을 갖는 것입니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/56.png'>

- 우리는 경험적으로 모든 로직 이 한 곳에 있으면 파악하기 힘들다는 것을 알고 있습니다

- 그래서 하나의 애플리케이션을 여러개 컴포넌트로 나누어 개발합니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/57.png'>

- 또 우리는 반복되는 부분을 모듈화 해두면 좋다는 것을 알고 있습니다

- 바로 가져다 사용했을 때의 짜릿함을 경험해 봤으니까요

- 방금 얘기한 "애플리케이션을 나눈다", "모듈화 한다" 가 오늘 발표해서 다른 내용인데요

- 지금 컴포넌트를 나누는 행위가 복잡도를 낮추기 위한 것인지 재사용하기 위함인지

- 꼭 분리해야 하는 컴포넌트인지 한번 고민해 볼 필요가 있습니다

- 우리는 제품을 만들면서 끊임없이 컴퍼넌트를 만듭니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/58.png'>

- 잘 만든 컴포넌트는 미래의 나에게 큰 도움이 될텐데요

- 이미 해결한 문제를 또 해결할 필요가 없기 때문에 함께 일하는 동료에게도 도움이 될 수 있습니다

- 결국 이런 Agility는 비즈니스의 기초가 됩니다

- 변경에 유연한 코드는 안정적으로 비즈니스를 운영하면서 빠른 속도를 유지하는데 필수적인 요소이기 때문입니다

- 오늘 준비한 이야기는 여기까지입니다

<img src='./images/토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트/59.png'>

---

## Reference

- [토스ㅣSLASH 22 - Effective Component 지속 가능한 성장과 컴포넌트](https://www.youtube.com/watch?v=fR8tsJ2r7Eg)

- [발표자료](https://static.toss.im/assets/homepage/slash22/pt-session/SLASH22_%ED%95%9C%EC%9E%AC%EC%97%BD%EB%8B%98.pdf)

- [Headless UI Library란?](https://jbee.io/react/headless-concept/)

- [변경에 유연한 컴포넌트](https://jbee.io/web/components-should-be-flexible/)
